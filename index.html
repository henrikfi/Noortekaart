<!DOCTYPE html>
<html>
<head>
    <title>Leaflet Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
    <style>
        #map {
            height: 600px;
            width: 100%;
        }

        #legend {
            position: absolute;
            bottom: 20px;
            left: 20px;
            z-index: 1000;
            font-size: 14px;
            background-color: white;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <div id="legend">
        <h4>Legend</h4>
        <div><span style="background-color: red; width: 10px; height: 10px; display: inline-block; margin-right: 5px;"></span> Example Point 1</div>
        <div><span style="background-color: green; width: 10px; height: 10px; display: inline-block; margin-right: 5px;"></span> Example Point 2</div>
        <div><span style="background-color: blue; width: 10px; height: 10px; display: inline-block; margin-right: 5px;"></span> Estonia Boundary</div>
    </div>
    <script>
        var map = L.map('map').setView([58.5953, 25.0136], 7);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: 'Â© OpenStreetMap contributors'
        }).addTo(map);

        fetch('estonia.json')
            .then(response => response.json())
            .then(geojson => {
                L.geoJSON(geojson, {
                    style: {
                        color: "blue",
                        weight: 2,
                        fillColor: "#cce5ff",
                        fillOpacity: 0.4
                    }
                }).addTo(map);

                map.fitBounds(L.geoJSON(geojson).getBounds());
            });

        var example1 = L.marker([59.4370, 24.7536]).addTo(map);
        example1.bindPopup("<b>Example Point 1</b><br>This is an example.");

        var example2 = L.marker([58.3776, 26.7290]).addTo(map);
        example2.bindPopup("<b>Example Point 2</b><br>This is another example.");
    </script>
</body>
</html>
